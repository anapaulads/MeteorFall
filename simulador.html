<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://cesium.com/downloads/cesiumjs/releases/1.117/Build/Cesium/Widgets/widgets.css" rel="stylesheet">
    <script src="https://cesium.com/downloads/cesiumjs/releases/1.117/Build/Cesium/Cesium.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Simulador de Impacto - CesiumJS</title>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQ4WoMTxYQOMznMsR3o9Y2w9ia9hBmRTE&libraries=places" async defer></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-container">
        <div id="cesium-container"></div>
        
        <div id="control-panel">
            <h1>Configurar Simulação</h1>
            <div class="control-section">
                <h2>1. Meteoro Selecionado</h2>
                <div id="meteor-data">
                    <p><strong>Nome:</strong> <span id="meteor-name">--</span></p>
                    <p><strong>Tamanho (diâmetro):</strong> <span id="meteor-size">--</span></p>
                    <p><strong>Velocidade:</strong> <span id="meteor-velocity">--</span></p>
                </div>
            </div>
            <div class="control-section">
                <h2>2. Selecione o Local do Impacto</h2>
                <input type="text" id="location-search-input" placeholder="Pesquise ou clique no globo..." />
                <div id="location-data">
                    <strong>Local:</strong> <span>Nenhum selecionado</span>
                </div>
            </div>
        </div>

        <div id="warning-panel" class="hidden">
            <div class="warning-content">
                <div class="warning-icon">!</div>
                <h2>ALERTA DE IMPACTO IMINENTE</h2>
                <p>O objeto se aproxima do local selecionado. O que você deseja fazer?</p>
                <div class="warning-buttons">
                    <button id="cancel-simulation-btn">Cancelar</button>
                    <button id="show-evacuation-btn">Info de Evacuação</button>
                    <button id="simulate-button">INICIAR SIMULAÇÃO</button>
                </div>
            </div>
        </div>

        <div id="evacuation-panel" class="hidden">
            <div class="evacuation-content">
                <div class="evacuation-header">
                    <span class="evacuation-icon">⚠</span>
                    <h2>ALERTA DE EMERGÊNCIA GLOBAL</h2>
                    <span class="evacuation-icon">⚠</span>
                </div>
                <div class="evacuation-body">
                    <p><strong>Mensagem:</strong> Um objeto próximo à Terra, o asteroide <strong id="evacuation-asteroid-name">[Nome do Asteroide]</strong>, foi detectado em uma trajetória de impacto simulada. A análise dos efeitos é crucial para a coordenação da resposta global.</p>
                    
                    <h3>Ações Recomendadas (Protocolo de Segurança)</h3>
                    <ul>
                        <li><strong>Mantenha-se Informado:</strong> Sintonize canais de notícias oficiais e agências espaciais. Evite rumores.</li>
                        <li><strong>Siga as Instruções Oficiais:</strong> Se uma ordem de evacuação for emitida, siga as rotas designadas imediatamente.</li>
                        <li><strong>Procure Abrigo Seguro:</strong> Longe de janelas, preferencialmente em estruturas subterrâneas como porões.</li>
                        <li><strong>Prepare um Kit de Emergência:</strong> Reúna suprimentos essenciais para 72 horas (água, alimentos, primeiros socorros).</li>
                    </ul>

                    <h3>Sua Missão</h3>
                    <p>Você é parte da equipe de resposta rápida. Sua tarefa é simular o local do impacto para determinar a área afetada e os danos potenciais, permitindo que as equipes de emergência ajam com precisão.</p>
                </div>
                <button id="close-evacuation-btn">Voltar</button>
            </div>
        </div>

        <div id="loading-overlay" class="hidden">
            <div class="spinner"></div>
            <p>Carregando Modelo 3D...</p>
        </div>

        <div id="results-panel" class="hidden">
            <h2>Resultados do Impacto</h2>
            <div class="results-grid">
                <div class="result-item"><label>Velocidade de Impacto</label><span id="result-velocity">--</span></div>
                <div class="result-item"><label>Energia Liberada</label><span id="result-energy">--</span></div>
                <div class="result-item"><label>Diâmetro da Cratera</label><span id="result-crater">--</span></div>
                <div class="result-item"><label>Magnitude Sísmica</label><span id="result-magnitude">--</span></div>
                <div class="result-item hazardous-result"><label>Equivalente a (Bombas de Hiroshima)</label><span id="result-hiroshima">--</span></div>
                <div class="result-item hazardous-result"><label>Equivalente a (Tsar Bombas)</label><span id="result-tsar">--</span></div>
            </div>
            <button id="reset-button">Nova Simulação</button>
        </div>
    </div>
    <script type="module" src="simulador.js"></script>
</body>
</html>